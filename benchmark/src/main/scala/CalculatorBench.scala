package com.rayrobdod.possibleEvolutions
package benchmark

import org.openjdk.jmh.annotations.Benchmark
import org.openjdk.jmh.annotations.State

object CalculatorBench {
	
	@State(org.openjdk.jmh.annotations.Scope.Thread)
	class _State {
		val accessOrder = Seq(401,14,111,184,371,379,143,251,56,448,466,33,474,388,225,523,53,300,441,114,364,230,73,98,317,12,281,55,390,393,507,206,201,538,473,374,116,137,515,320,17,518,245,530,220,451,386,15,172,535,375,403,338,31,513,110,454,76,529,406,146,46,243,292,47,162,44,194,517,64,279,527,4,66,449,139,469,218,30,232,534,265,181,506,457,504,417,285,8,461,196,188,475,271,512,78,270,312,211,103,321,355,104,151,36,435,180,57,528,95,249,340,10,329,545,372,71,412,324,42,478,407,415,370,298,166,224,394,159,460,360,302,433,310,318,541,13,533,521,467,326,94,315,27,382,495,453,131,462,365,58,51,209,237,121,204,347,254,405,177,157,363,483,193,171,414,391,127,437,306,540,494,484,546,208,175,215,100,490,297,413,464,402,543,358,420,444,161,450,362,381,158,384,323,247,465,350,259,242,109,43,178,480,163,283,231,198,130,463,352,229,400,112,69,344,526,164,286,346,442,492,322,62,516,419,115,68,99,514,383,459,238,93,311,357,86,264,369,261,472,486,21,120,185,291,11,2,387,150,148,199,380,305,262,497,70,377,524,500,126,531,299,341,359,253,3,429,182,282,35,223,260,416,67,118,496,250,303,404,505,63,485,327,263,274,257,147,168,447,423,395,59,333,244,241,398,37,205,85,427,179,445,470,351,280,482,49,18,293,446,510,476,307,82,258,397,23,267,202,77,308,353,294,354,471,125,216,234,399,219,32,190,81,319,277,432,348,389,438,539,549,367,183,20,88,29,217,343,422,287,458,214,132,246,34,119,60,195,487,385,160,268,542,426,396,272,410,48,452,468,301,191,28,84,481,129,440,113,239,536,90,275,290,508,342,425,368,186,436,336,19,548,544,7,331,38,124,424,52,499,421,106,288,222,519,313,314,39,25,456,537,502,221,411,309,134,174,226,418,304,170,210,72,477,22,189,428,356,133,169,50,144,140,152,141,65,83,45,5,155,330,212,332,165,493,173,117,325,498,1,345,91,488,430,266,9,142,328,547,187,511,153,366,40,489,289,339,136,373,316,156,176,41,295,75,149,197,92,532,409,101,54,102,105,192,97,252,236,79,443,167,227,16,145,434,491,455,378,135,509,228,501,6,284,248,273,24,525,107,334,337,235,479,376,89,61,278,207,96,154,128,87,361,256,80,26,255,276,213,233,439,123,349,108,122,392,335,200,240,74,269,203,520,431,408,522,296,503,138).map{DexNo(_)}

		val data = {
			Calculator.fromFiles(new java.io.File("src/main/data/"))
		}
	}
}

class CalculatorBench {
	import CalculatorBench._State
	
	@Benchmark
	def possibleEvosCount(state:_State) = {
		implicit val config = EvosGame.White2
		
		state.accessOrder.map{state.data.possibleEvosCount _}.sum
	}
}
